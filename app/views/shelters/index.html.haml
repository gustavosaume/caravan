- content_for :head do
  = stylesheet_link_tag "shelters", media: 'all'
  = javascript_include_tag "shelters"
  %script{src: "https://maps.googleapis.com/maps/api/js?key=AIzaSyB21xESS5tCZO5TLxjnLHFz7uQCBiq0fjw"}


#shelter-list-map
#shelter-list-filter
#shelter-list-container{data: {shelters: @shelters.map(&:to_hash).to_json}}

/ %script#template-shelters-filter{type: :ractive}
/   %ul.toolbar
/     {{#if sortColumn == 'distance'}}
/     %li.toolbarItem.filter.sorted{:'on-tap' => 'sort:distance'} Distance
/     {{else}}
/     %li.toolbarItem.filter{:'on-tap' => 'sort:distance'} Distance
/     {{/if}}
/     {{#if sortColumn == 'rating'}}
/     %li.toolbarItem.filter.sorted{:'on-tap' => 'sort:rating'} Rating
/     {{else}}
/     %li.toolbarItem.filter{:'on-tap' => 'sort:rating'} Rating
/     {{/if}}
/     {{#if sortColumn == 'name'}}
/     %li.toolbarItem.filter.sorted{:'on-tap' => 'sort:name'} Alphabetical
/     {{else}}
/     %li.toolbarItem.filter{:'on-tap' => 'sort:name'} Alphabetical
/     {{/if}}

%script#template-shelters{type: :ractive}
  %ul#shelter-list.list
    {{#each sort(shelters, sortColumn):i}}
    {{>shelter}}
    {{/each}}

  {{#partial shelter}}
  %li.shelter-item
    %h1 {{name}}
    %starRating{id: '{{id}}', rating: '{{rating}}', isEnabled: 'false'}
    %p {{description}}
    %a.action-link{href: '/shelters/{{id}}'} Find Out More 
  {{/partial}}

/ %p#notice= notice
/ %h1 Listing Shelters
/ %table
/   %thead
/     %tr
/       %th{:colspan => "3"}
/   %tbody
/     - @shelters.each do |shelter|
/       %tr
/         %td= link_to 'Show', shelter
/         %td= link_to 'Edit', edit_shelter_path(shelter)
/         %td= link_to 'Destroy', shelter, method: :delete, data: { confirm: 'Are you sure?' }
/ %br/
/ = link_to 'New Shelter', new_shelter_path
 